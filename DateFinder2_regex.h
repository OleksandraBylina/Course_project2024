#ifndef DATE_FINDER_REGEX_H
#define DATE_FINDER_REGEX_H

#include <string>
#include <fstream>
#include <iostream>
#include <regex>
#include <ctime>

/**
 * @brief Масив назв місяців англійською.
 *
 * Містить назви місяців від "January" до "December".
 */
extern std::string months[];

/**
 * @brief Перетворює номер місяця у назву місяця.
 *
 * Використовує масив `months`, щоб перетворити числовий номер місяця (1-12)
 * у його текстове представлення. Повертає порожній рядок для некоректних номерів.
 *
 * @param month Рядок із номером місяця.
 * @return Назва місяця або порожній рядок для некоректного номера.
 */
std::string month_to_name(const std::string& month);

/**
 * @brief Отримує поточну дату та час у форматі "YYYY Month DD HH:MM:SS".
 *
 * Використовує функції `time` і `localtime` для отримання поточного часу.
 *
 * @return Рядок із поточною датою та часом.
 */
std::string get_current_datetime();

/**
 * @brief Форматує дату з компонентів.
 *
 * Приймає компоненти дати (рік, місяць, день) і створює з них дату
 * у форматі "DD Month YYYY". Визначає порядок компонентів залежно
 * від прапора `year_first`.
 *
 * @param part1 Перша частина дати (рік або день).
 * @param part2 Друга частина дати (місяць).
 * @param part3 Третя частина дати (рік або день).
 * @param year_first Прапор, що визначає порядок частин (true, якщо рік йде першим).
 * @return Відформатована дата у вигляді рядка.
 */
std::string format_date(const std::string& part1, const std::string& part2, const std::string& part3, bool year_first);

/**
 * @brief Знаходить дати у тексті та замінює їх на поточну дату і час.
 *
 * Використовує регулярний вираз для пошуку дат у форматах:
 * - YYYY/MM/DD або YYYY.MM.DD
 * - DD/MM/YYYY або DD.MM.YYYY
 * - DD/MM/YY або DD.MM.YY
 *
 * Замінює знайдені дати на поточну дату і час у форматі "YYYY Month DD HH:MM:SS".
 *
 * @param line Рядок для аналізу.
 * @return Рядок із заміненими датами.
 */
std::string date_finder(const std::string& line);

/**
 * @brief Зчитує рядки з файлу, обробляє дати та виводить результат.
 *
 * Зчитує кожен рядок із файлу, передає його у функцію `date_finder` для обробки дат,
 * і виводить оброблений рядок у консоль.
 *
 * @param inputFile Посилання на відкритий файл для читання.
 */
void printer(std::ifstream& inputFile);

/**
 * @brief Відкриває текстовий файл для читання та обробляє його.
 *
 * Перевіряє, чи файл відкрився успішно. У разі успіху передає файл у функцію `printer`.
 * У разі невдачі виводить повідомлення про помилку.
 *
 * @param textfile Ім'я текстового файлу.
 */
void file_opener(const std::string& textfile);

#endif // DATE_FINDER_REGEX_H-000000000000000000000000000000000000000000000000000000000000000000000000000000034уз==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================ф
